# ===================================
# VisaBuddy AI Service Configuration
# ===================================

# Server Configuration
PORT=8001
NODE_ENV=development

# ===================================
# OpenAI Configuration
# ===================================
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk_your_openai_key_here

# Model configuration
# Options: gpt-4, gpt-4-turbo, gpt-3.5-turbo
OPENAI_MODEL=gpt-4
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=500

# Rate limiting (requests per hour per user)
# Set to 20 for free tier, 100+ for paid accounts
RATE_LIMIT_PER_HOUR=20

# Token tracking
ENABLE_TOKEN_TRACKING=true
TOKEN_COST_THRESHOLD_USD=10.0

# ===================================
# Pinecone Configuration (RAG)
# ===================================
# Get your API key from: https://app.pinecone.io
# Steps:
# 1. Create a free Pinecone account
# 2. Create an index named "visabuddy-visa-kb"
# 3. Dimension: 1536 (for OpenAI embeddings)
# 4. Metric: cosine
# 5. Copy the API key here

PINECONE_API_KEY=pcsk_your_pinecone_key_here
PINECONE_INDEX_NAME=visabuddy-visa-kb
PINECONE_ENVIRONMENT=gcp-starter

# ===================================
# CORS Configuration
# ===================================
# Allowed origins for CORS
# For development: http://localhost:3000,http://localhost:3001,http://localhost:8081
# For production: https://yourdomain.com
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:8081

# ===================================
# Logging
# ===================================
LOG_LEVEL=INFO

# ===================================
# Database Configuration (for conversation storage)
# ===================================
# Connection string for PostgreSQL
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://user:password@localhost:5432/visabuddy_ai

# ===================================
# Redis Configuration (optional, for caching)
# ===================================
REDIS_URL=redis://localhost:6379/0

# ===================================
# Feature Flags
# ===================================
# Enable/disable RAG system
RAG_ENABLED=true

# Store conversation history
STORE_CONVERSATIONS=true

# Use local embeddings fallback when OpenAI not available
USE_LOCAL_EMBEDDINGS_FALLBACK=true

# ===================================
# Security
# ===================================
# JWT token for API authentication (if needed)
API_SECRET_KEY=your_secret_key_here

# ===================================
# Pinecone Index Setup Instructions
# ===================================
# 1. Visit https://app.pinecone.io and sign up (free tier available)
# 2. Create a new index with these settings:
#    - Name: visabuddy-visa-kb
#    - Dimension: 1536
#    - Metric: cosine
#    - Pod type: starter
# 3. Copy your API key and Environment
# 4. Fill in PINECONE_API_KEY and PINECONE_ENVIRONMENT above
# 5. The service will automatically index the knowledge base on startup